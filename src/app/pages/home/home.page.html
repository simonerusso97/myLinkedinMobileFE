<ion-header [translucent]="true">
  <ion-toolbar>

  </ion-toolbar>

</ion-header>

<ion-content [fullscreen]="true">
  <ion-item>
    <ion-searchbar placeholder="Filtra per offeror" debounce="500" (ionChange)="getItems($event)"></ion-searchbar>

  </ion-item>
  <ion-item>
    <ion-label>Filtra per skill</ion-label>
    <ion-select placeholder="------" multiple="true" #skillSelect (ionChange)="filter(skillSelect)">
      <ion-select-option
        *ngFor="let skill of skillList"
        [value]="skill"
      >{{skill.name}}
      </ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item button (click)="fiterByDate()">
    <ion-datetime displayFormat="DD MM YY" placeholder="inizio"
                  [(ngModel)]="startDate"
                  name="startDate"></ion-datetime>
    <ion-datetime displayFormat="DD MM YY" placeholder="{{endDate | date: 'dd-mm-yy'}}"
                  [(ngModel)]="endDate"
                  value="{{endDate}}}"
                  name="endDate"></ion-datetime>
    <ion-label> Filtra per data</ion-label>

    <!--<ion-item>
      <ion-datetime displayFormat="DD MM YY" placeholder="inizio"
                    [(ngModel)]="startDate"
                    name="startDate"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label>-</ion-label>
      <ion-datetime displayFormat="DD MM YY" placeholder="{{endDate | date: 'dd-mm-yy'}}"
                    [(ngModel)]="endDate"
                    value="{{endDate}}}"
                    name="endDate"></ion-datetime>
    </ion-item>-->
  </ion-item>

  <ion-card *ngFor="let post of showingPostList" class="m-2 mb-3" button="true" color="light">
    <ion-card-header  class="text-center" (click)="goToPost(post)">
      <ion-card-title>{{post.name}}</ion-card-title>
    </ion-card-header>

    <ion-card-content class="text-center" (click)="goToPost(post)">
      {{post.createdBy.name}} {{post.createdBy.surname}}<br>
        <!--          <span *ngIf="user.type=='offeror'">{{(post.createdBy.company.name}}</span> -->
      {{post.pubblicationDate | date: 'dd-MM-yyyy'}}
    </ion-card-content>

    <ion-row class="card-footer">
      <ion-col>
        <div class="text-center" (click)="save(post)" *ngIf="!includes(post)">
          <ion-button fill="clear" size="small">
            <ion-icon name="save-outline"></ion-icon>
          </ion-button><br>
          Salva
        </div>
        <div class="text-center" (click)="delete(post)" *ngIf="includes(post)">
          <ion-button fill="clear" size="small">
            <ion-icon name="trash-outline"></ion-icon>
          </ion-button><br>
          Cancella salvataggio
        </div>
      </ion-col>
    </ion-row>
  </ion-card>
</ion-content>
